!function(t){function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="./",n(n.s=11)}([function(t,n,e){t.exports={default:e(13),__esModule:!0}},,function(t,n){var e=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=e)},function(t,n){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,e){t.exports=!e(6)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,e){var o=e(8),r=e(9);t.exports=function(t){return o(r(t))}},function(t,n,e){var o=e(31);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n){var e=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:e)(t)}},function(t,n,e){t.exports=e(12)},function(t,n,e){"use strict";function o(t){return"function"==typeof t}function r(){return i(1,1e4)}function i(t,n){return t=Math.ceil(t),n=Math.floor(n),Math.floor(Math.random()*(n-t))+t}function u(){return window.device_uuid}function c(){return window.token}function a(t,n,e){window.apiLog(t,n,e)}function f(t,n){if("number"==typeof t)return t;if("string"==typeof t){var e=parseInt(t);if(t.indexOf("%")>-1)return n*e/100;if(!isNaN(e))return e}return 0}function s(t){o(t)&&t()}function d(t){o(t)&&g.push(t)}function p(){a("ready","",""),g.forEach(function(t){t()}),g=[]}function l(t){o(t)&&w.push(t)}function v(t){a("onDeviceListen","",t),w.forEach(function(n){n(t)})}function h(){a("showLoading","",""),HdIot.UI.showLoading({data:""})}function y(){a("hideLoading","",""),HdIot.UI.hideLoading({data:""})}Object.defineProperty(n,"__esModule",{value:!0});var g=[],w=[],m={ready:s,beforeReady:d,runReadyCallbacks:p,onDeviceListen:l,runDeviceListenCallback:v},b=e(0),x=e.n(b),_=function(t,n,e,i,c,f){var s=x.a({method:t,req_id:r(),params:{device_uuid:u(),cmd:n,attr:e}}),d=!1,p=setTimeout(function(){d=!0,a("control","",{result:"超时"}),c()},f||8e3);return HdIot.Device.control({data:s,onListener:function(t){if(d)return!1;clearTimeout(p),t=JSON.parse(t),a("control",s,t),504==t.code?c(t):o(i)&&i()}}),p},O=e(0),S=e.n(O),I=function(t,n,e,i,f){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,d=arguments[6],p=S.a({method:t,req_id:r(),token:c(),nodeid:n,params:{device_uuid:u(),timer:s,attr:e}}),l=!1,v=setTimeout(function(){l=!0,a("control","",{result:"超时"}),f()},d||8e3);return HdIot.Device.control({data:p,onListener:function(t){if(l)return!1;clearTimeout(v),a("control",p,t),t=JSON.parse(t),"number"==typeof t.code?f(t):o(i)&&i()}}),v},L=function(t,n){HdIot.Device.getSnapShot({data:"",onListener:function(e){a("getSnapShot","",e),e=JSON.parse(e),e.result?o(t)&&t(e.result,e.timestamp||e.result.timestamp):o(n)&&n(e)}})},j=e(14),H=e.n(j),E=e(0),M=e.n(E),N=function(t,n,e,i){var c=M.a({method:t,req_id:r(),params:H.a({device_uuid:u()},n)});HdIot.Device.postRequest({method:t,data:c,onListener:function(n){a("postRequest_"+t,c,n),n=JSON.parse(n),504==n.code?o(i)&&i(n):n.result&&o(e)&&e(n.result)}})},T={control:_,instruct:I,getSnapShot:L,postRequest:N},R=e(0),k=e.n(R),P=function(t,n,e,r,i){r=r||"确定",i=i||"取消",HdIot.UI.alert({data:k.a({title:t,message:n,okText:r,cancelText:i}),onListener:function(){o(e)&&e()}})},U=e(0),D=e.n(U),J=function(t,n){n=n||3e3;var e=D.a({data:{message:t,duration:n}});HdIot.UI.toast(e),a("toast",e,"")},C=e(0),F=e.n(C),q=function(t,n,e,o){var r=document.body.getBoundingClientRect();t=f(t,r.width),n=f(n,r.height),e=f(e,r.width),o=f(o,r.height);var i=F.a({left:t,right:e,top:n,bottom:o});HdIot.UI.setTouchRect({data:i}),a("setWebViewTouchRect",i,"")},A=e(0),W=e.n(A),B=function(t){HdIot.UI.toggleHeadAndFoot({data:W.a({show_head_foot:t})}),a("toggleHeadAndFoot",t,"")},G={alert:P,toast:J,showLoading:h,hideLoading:y,setWebViewTouchRect:q,toggleHeadAndFoot:B},V=function(t){HdIot.Util.getNetworkType({data:"",onListener:function(n){a("getNetworkType","",n),o(t)&&t(n)}})},z=function(){HdIot.Util.reload({data:""})},K=e(0),Q=e.n(K),X=function(t,n,e,r){var i=Q.a({url:t,data:n});HdIot.Util.post({data:i,onListener:function(t){o(e)&&e(t),a("post",i,t)}})},Y=e(0),Z=e.n(Y),$=function(t,n){var e=Z.a({title:t,message:n});HdIot.Util.sendNotification({data:e}),a("sendNotification",e,"")},tt=e(0),nt=e.n(tt),et=function(t){HdIot.Util.dispatchEvent({data:nt.a(t.data),onListener:function(n){a("dispatchEvent: ",t.data,n),t.onListener&&t.onListener(JSON.parse(n))}})},ot={getNetworkType:V,reload:z,post:X,sendNotification:$,dispatchEvent:et};window.HdSmart={ready:m.beforeReady,onDeviceListen:m.onDeviceListen},window.apiLog=function(t,n,e){};var rt=!1;window.onDeviceJsReady=function(){if(!window.HdIot)throw new Error("当前环境没有可用的api");rt||(window.HdSmart.ready=m.ready,window.HdSmart.Device=T,window.HdSmart.UI=G,window.HdSmart.Util=ot,rt=!0),m.runReadyCallbacks()},window.onDeviceChange=function(t){m.runDeviceListenCallback(t)}},function(t,n,e){var o=e(2),r=o.JSON||(o.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},function(t,n,e){t.exports={default:e(15),__esModule:!0}},function(t,n,e){e(16),t.exports=e(2).Object.assign},function(t,n,e){var o=e(17);o(o.S+o.F,"Object",{assign:e(27)})},function(t,n,e){var o=e(3),r=e(2),i=e(18),u=e(20),c=function(t,n,e){var a,f,s,d=t&c.F,p=t&c.G,l=t&c.S,v=t&c.P,h=t&c.B,y=t&c.W,g=p?r:r[n]||(r[n]={}),w=g.prototype,m=p?o:l?o[n]:(o[n]||{}).prototype;p&&(e=n);for(a in e)(f=!d&&m&&void 0!==m[a])&&a in g||(s=f?m[a]:e[a],g[a]=p&&"function"!=typeof m[a]?e[a]:h&&f?i(s,o):y&&m[a]==s?function(t){var n=function(n,e,o){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,e)}return new t(n,e,o)}return t.apply(this,arguments)};return n.prototype=t.prototype,n}(s):v&&"function"==typeof s?i(Function.call,s):s,v&&((g.virtual||(g.virtual={}))[a]=s,t&c.R&&w&&!w[a]&&u(w,a,s)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,n,e){var o=e(19);t.exports=function(t,n,e){if(o(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,o){return t.call(n,e,o)};case 3:return function(e,o,r){return t.call(n,e,o,r)}}return function(){return t.apply(n,arguments)}}},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,e){var o=e(21),r=e(26);t.exports=e(5)?function(t,n,e){return o.f(t,n,r(1,e))}:function(t,n,e){return t[n]=e,t}},function(t,n,e){var o=e(22),r=e(23),i=e(25),u=Object.defineProperty;n.f=e(5)?Object.defineProperty:function(t,n,e){if(o(t),n=i(n,!0),o(e),r)try{return u(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},function(t,n,e){var o=e(4);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,n,e){t.exports=!e(5)&&!e(6)(function(){return 7!=Object.defineProperty(e(24)("div"),"a",{get:function(){return 7}}).a})},function(t,n,e){var o=e(4),r=e(3).document,i=o(r)&&o(r.createElement);t.exports=function(t){return i?r.createElement(t):{}}},function(t,n,e){var o=e(4);t.exports=function(t,n){if(!o(t))return t;var e,r;if(n&&"function"==typeof(e=t.toString)&&!o(r=e.call(t)))return r;if("function"==typeof(e=t.valueOf)&&!o(r=e.call(t)))return r;if(!n&&"function"==typeof(e=t.toString)&&!o(r=e.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n,e){"use strict";var o=e(28),r=e(39),i=e(40),u=e(41),c=e(8),a=Object.assign;t.exports=!a||e(6)(function(){var t={},n={},e=Symbol(),o="abcdefghijklmnopqrst";return t[e]=7,o.split("").forEach(function(t){n[t]=t}),7!=a({},t)[e]||Object.keys(a({},n)).join("")!=o})?function(t,n){for(var e=u(t),a=arguments.length,f=1,s=r.f,d=i.f;a>f;)for(var p,l=c(arguments[f++]),v=s?o(l).concat(s(l)):o(l),h=v.length,y=0;h>y;)d.call(l,p=v[y++])&&(e[p]=l[p]);return e}:a},function(t,n,e){var o=e(29),r=e(38);t.exports=Object.keys||function(t){return o(t,r)}},function(t,n,e){var o=e(30),r=e(7),i=e(32)(!1),u=e(35)("IE_PROTO");t.exports=function(t,n){var e,c=r(t),a=0,f=[];for(e in c)e!=u&&o(c,e)&&f.push(e);for(;n.length>a;)o(c,e=n[a++])&&(~i(f,e)||f.push(e));return f}},function(t,n){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t,n){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,n,e){var o=e(7),r=e(33),i=e(34);t.exports=function(t){return function(n,e,u){var c,a=o(n),f=r(a.length),s=i(u,f);if(t&&e!=e){for(;f>s;)if((c=a[s++])!=c)return!0}else for(;f>s;s++)if((t||s in a)&&a[s]===e)return t||s||0;return!t&&-1}}},function(t,n,e){var o=e(10),r=Math.min;t.exports=function(t){return t>0?r(o(t),9007199254740991):0}},function(t,n,e){var o=e(10),r=Math.max,i=Math.min;t.exports=function(t,n){return t=o(t),t<0?r(t+n,0):i(t,n)}},function(t,n,e){var o=e(36)("keys"),r=e(37);t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,n,e){var o=e(3),r=o["__core-js_shared__"]||(o["__core-js_shared__"]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,n){var e=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+o).toString(36))}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,e){var o=e(9);t.exports=function(t){return Object(o(t))}}]);