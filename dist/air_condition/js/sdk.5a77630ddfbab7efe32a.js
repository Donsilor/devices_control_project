!function(t){function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="./",n(n.s=16)}([function(t,n,e){"use strict";function o(t){return"function"==typeof t}function r(){return i(1,1e4)}function i(t,n){return t=Math.ceil(t),n=Math.floor(n),Math.floor(Math.random()*(n-t))+t}function u(){return window.device_uuid}function c(){return window.token}function a(t,n,e){window.apiLog(t,n,e)}function f(t,n){if("number"==typeof t)return t;if("string"==typeof t){var e=parseInt(t);if(t.indexOf("%")>-1)return n*e/100;if(!isNaN(e))return e}return 0}n.e=o,n.d=r,n.b=u,n.c=c,n.f=a,n.a=f},function(t,n,e){t.exports={default:e(5),__esModule:!0}},function(t,n){var e=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=e)},,,function(t,n,e){var o=e(2),r=o.JSON||(o.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},function(t,n){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,e){t.exports=!e(9)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},,,function(t,n,e){var o=e(13),r=e(14);t.exports=function(t){return o(r(t))}},function(t,n,e){var o=e(35);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n){var e=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:e)(t)}},function(t,n,e){t.exports=e(17)},function(t,n,e){"use strict";function o(t){s.e(t)&&t()}function r(t){s.e(t)&&d.push(t)}function i(){s.f("ready","",""),d.forEach(function(t){t()}),d=[]}function u(t){p.e(t)&&l.push(t)}function c(t){p.f("onDeviceListen","",t),l.forEach(function(n){n(t)})}function a(){F.f("showLoading","",""),HdIot.UI.showLoading({data:""})}function f(){F.f("hideLoading","",""),HdIot.UI.hideLoading({data:""})}Object.defineProperty(n,"__esModule",{value:!0});var s=e(0),d=[],p=e(0),l=[],v={ready:o,beforeReady:r,runReadyCallbacks:i,onDeviceListen:u,runDeviceListenCallback:c},h=e(1),y=e.n(h),g=e(0),w=function(t,n,e,o,r,i){var u=y.a({method:t,req_id:g.d(),params:{device_uuid:g.b(),cmd:n,attr:e}}),c=!1,a=setTimeout(function(){c=!0,g.f("control","",{result:"超时"}),r()},i||8e3);return HdIot.Device.control({data:u,onListener:function(t){if(c)return!1;clearTimeout(a),t=JSON.parse(t),g.f("control",u,t),504==t.code?r(t):g.e(o)&&o()}}),a},m=e(1),b=e.n(m),x=e(0),_=function(t,n,e,o,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments[6],c=b.a({method:t,req_id:x.d(),token:x.c(),nodeid:n,params:{device_uuid:x.b(),timer:i,attr:e}}),a=!1,f=setTimeout(function(){a=!0,x.f("control","",{result:"超时"}),r()},u||8e3);return HdIot.Device.control({data:c,onListener:function(t){if(a)return!1;clearTimeout(f),x.f("control",c,t),t=JSON.parse(t),"number"==typeof t.code?r(t):x.e(o)&&o()}}),f},O=e(0),S=function(t,n){HdIot.Device.getSnapShot({data:"",onListener:function(e){O.f("getSnapShot","",e),e=JSON.parse(e),e.result?O.e(t)&&t(e.result,e.timestamp||e.result.timestamp):O.e(n)&&n(e)}})},I=e(18),L=e.n(I),j=e(1),H=e.n(j),E=e(0),M=function(t,n,e,o){var r=H.a({method:t,req_id:E.d(),params:L.a({device_uuid:E.b()},n)});HdIot.Device.postRequest({method:t,data:r,onListener:function(n){E.f("postRequest_"+t,r,n),n=JSON.parse(n),504==n.code?E.e(o)&&o(n):n.result&&E.e(e)&&e(n.result)}})},N={control:w,instruct:_,getSnapShot:S,postRequest:M},T=e(1),R=e.n(T),k=e(0),P=function(t,n,e,o,r){o=o||"确定",r=r||"取消",HdIot.UI.alert({data:R.a({title:t,message:n,okText:o,cancelText:r}),onListener:function(){k.e(e)&&e()}})},U=e(1),D=e.n(U),J=e(0),C=function(t,n){n=n||3e3;var e=D.a({data:{message:t,duration:n}});HdIot.UI.toast(e),J.f("toast",e,"")},F=e(0),q=e(1),A=e.n(q),W=e(0),B=function(t,n,e,o){var r=document.body.getBoundingClientRect();t=W.a(t,r.width),n=W.a(n,r.height),e=W.a(e,r.width),o=W.a(o,r.height);var i=A.a({left:t,right:e,top:n,bottom:o});HdIot.UI.setTouchRect({data:i}),W.f("setWebViewTouchRect",i,"")},G=e(1),V=e.n(G),z=e(0),K=function(t){HdIot.UI.toggleHeadAndFoot({data:V.a({show_head_foot:t})}),z.f("toggleHeadAndFoot",t,"")},Q={alert:P,toast:C,showLoading:a,hideLoading:f,setWebViewTouchRect:B,toggleHeadAndFoot:K},X=e(0),Y=function(t){HdIot.Util.getNetworkType({data:"",onListener:function(n){X.f("getNetworkType","",n),X.e(t)&&t(n)}})},Z=function(){HdIot.Util.reload({data:""})},$=e(1),tt=e.n($),nt=e(0),et=function(t,n,e,o){var r=tt.a({url:t,data:n});HdIot.Util.post({data:r,onListener:function(t){nt.e(e)&&e(t),nt.f("post",r,t)}})},ot=e(1),rt=e.n(ot),it=e(0),ut=function(t,n){var e=rt.a({title:t,message:n});HdIot.Util.sendNotification({data:e}),it.f("sendNotification",e,"")},ct=e(1),at=e.n(ct),ft=e(0),st=function(t){HdIot.Util.dispatchEvent({data:at.a(t.data),onListener:function(n){ft.f("dispatchEvent: ",t.data,n),t.onListener&&t.onListener(JSON.parse(n))}})},dt={getNetworkType:Y,reload:Z,post:et,sendNotification:ut,dispatchEvent:st};window.HdSmart={ready:v.beforeReady,onDeviceListen:v.onDeviceListen},window.apiLog=function(t,n,e){};var pt=!1;window.onDeviceJsReady=function(){if(!window.HdIot)throw new Error("当前环境没有可用的api");pt||(window.HdSmart.ready=v.ready,window.HdSmart.Device=N,window.HdSmart.UI=Q,window.HdSmart.Util=dt,pt=!0),v.runReadyCallbacks()},window.onDeviceChange=function(t){v.runDeviceListenCallback(t)}},function(t,n,e){t.exports={default:e(19),__esModule:!0}},function(t,n,e){e(20),t.exports=e(2).Object.assign},function(t,n,e){var o=e(21);o(o.S+o.F,"Object",{assign:e(31)})},function(t,n,e){var o=e(6),r=e(2),i=e(22),u=e(24),c=function(t,n,e){var a,f,s,d=t&c.F,p=t&c.G,l=t&c.S,v=t&c.P,h=t&c.B,y=t&c.W,g=p?r:r[n]||(r[n]={}),w=g.prototype,m=p?o:l?o[n]:(o[n]||{}).prototype;p&&(e=n);for(a in e)(f=!d&&m&&void 0!==m[a])&&a in g||(s=f?m[a]:e[a],g[a]=p&&"function"!=typeof m[a]?e[a]:h&&f?i(s,o):y&&m[a]==s?function(t){var n=function(n,e,o){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,e)}return new t(n,e,o)}return t.apply(this,arguments)};return n.prototype=t.prototype,n}(s):v&&"function"==typeof s?i(Function.call,s):s,v&&((g.virtual||(g.virtual={}))[a]=s,t&c.R&&w&&!w[a]&&u(w,a,s)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,n,e){var o=e(23);t.exports=function(t,n,e){if(o(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,o){return t.call(n,e,o)};case 3:return function(e,o,r){return t.call(n,e,o,r)}}return function(){return t.apply(n,arguments)}}},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,e){var o=e(25),r=e(30);t.exports=e(8)?function(t,n,e){return o.f(t,n,r(1,e))}:function(t,n,e){return t[n]=e,t}},function(t,n,e){var o=e(26),r=e(27),i=e(29),u=Object.defineProperty;n.f=e(8)?Object.defineProperty:function(t,n,e){if(o(t),n=i(n,!0),o(e),r)try{return u(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},function(t,n,e){var o=e(7);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,n,e){t.exports=!e(8)&&!e(9)(function(){return 7!=Object.defineProperty(e(28)("div"),"a",{get:function(){return 7}}).a})},function(t,n,e){var o=e(7),r=e(6).document,i=o(r)&&o(r.createElement);t.exports=function(t){return i?r.createElement(t):{}}},function(t,n,e){var o=e(7);t.exports=function(t,n){if(!o(t))return t;var e,r;if(n&&"function"==typeof(e=t.toString)&&!o(r=e.call(t)))return r;if("function"==typeof(e=t.valueOf)&&!o(r=e.call(t)))return r;if(!n&&"function"==typeof(e=t.toString)&&!o(r=e.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n,e){"use strict";var o=e(32),r=e(43),i=e(44),u=e(45),c=e(13),a=Object.assign;t.exports=!a||e(9)(function(){var t={},n={},e=Symbol(),o="abcdefghijklmnopqrst";return t[e]=7,o.split("").forEach(function(t){n[t]=t}),7!=a({},t)[e]||Object.keys(a({},n)).join("")!=o})?function(t,n){for(var e=u(t),a=arguments.length,f=1,s=r.f,d=i.f;a>f;)for(var p,l=c(arguments[f++]),v=s?o(l).concat(s(l)):o(l),h=v.length,y=0;h>y;)d.call(l,p=v[y++])&&(e[p]=l[p]);return e}:a},function(t,n,e){var o=e(33),r=e(42);t.exports=Object.keys||function(t){return o(t,r)}},function(t,n,e){var o=e(34),r=e(12),i=e(36)(!1),u=e(39)("IE_PROTO");t.exports=function(t,n){var e,c=r(t),a=0,f=[];for(e in c)e!=u&&o(c,e)&&f.push(e);for(;n.length>a;)o(c,e=n[a++])&&(~i(f,e)||f.push(e));return f}},function(t,n){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t,n){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,n,e){var o=e(12),r=e(37),i=e(38);t.exports=function(t){return function(n,e,u){var c,a=o(n),f=r(a.length),s=i(u,f);if(t&&e!=e){for(;f>s;)if((c=a[s++])!=c)return!0}else for(;f>s;s++)if((t||s in a)&&a[s]===e)return t||s||0;return!t&&-1}}},function(t,n,e){var o=e(15),r=Math.min;t.exports=function(t){return t>0?r(o(t),9007199254740991):0}},function(t,n,e){var o=e(15),r=Math.max,i=Math.min;t.exports=function(t,n){return t=o(t),t<0?r(t+n,0):i(t,n)}},function(t,n,e){var o=e(40)("keys"),r=e(41);t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,n,e){var o=e(6),r=o["__core-js_shared__"]||(o["__core-js_shared__"]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,n){var e=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+o).toString(36))}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,e){var o=e(14);t.exports=function(t){return Object(o(t))}}]);